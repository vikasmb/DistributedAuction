<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

<!-- <ui:composition template="/WEB-INF/templates/BasicTemplate.html">-->

<h:head>
	<meta content="text/html; charset=UTF-8" http-equiv="Content-type" />
</h:head>

<h:body>
	<h:form id="homeForm">
		<p:layout id="layout">
			<p:layoutUnit position="west" resizable="true">
				<p:panelGrid columns="2">
					<h:outputText value="Select Category" />

					<p:selectOneMenu required="true" value="#{buyerCriteria.category}"
						immediate="true">
						<f:selectItem itemLabel="Select One" itemValue="" />
						<f:selectItem itemLabel="Cars" itemValue="cars" />
						<f:selectItem itemLabel="Hotels" itemValue="hotels" />
						<f:selectItem itemLabel="Flights" itemValue="flights" />
					</p:selectOneMenu>

					<h:outputText value="City" />
					<p:inputText required="true" id="city"
						value="#{buyerCriteria.city}" immediate="true" />

					<h:outputText value="From" />
					<p:calendar required="true" value="#{buyerCriteria.neededFrom}"
						effect="slideDown" timeZone="GMT" pattern="MM/dd/yyyy hh:mm a" />

					<h:outputText value="Till" />
					<p:calendar required="true" value="#{buyerCriteria.neededUntil}"
						effect="slideDown" timeZone="GMT" pattern="MM/dd/yyyy hh:mm a" />

					<p:commandButton value="Search"
						actionListener="#{auctionClient.search}"
						update="schdBtn,peerTable,remoteTable"></p:commandButton>
					<br />
					
					<p:commandButton value="Schedule Auction" id="schdBtn" disabled="#{!auctionClient.showSearchResults}"
						actionListener="#{auctionClient.scheduleAuction}"
						update="peerTable,remoteTable"></p:commandButton>
					<br />

				</p:panelGrid>
			</p:layoutUnit>
			<p:layoutUnit position="center" id="ctrLayout">

				<p:dataTable id="peerTable" var="localRow"
					visible="#{auctionClient.showSearchResults}"
					value="#{auctionClient.localBidders}" paginator="true" rows="5"
					paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="5,10,15">
					<f:facet name="header">
         		    Listings
      	     </f:facet>

					<p:column sortBy="name" headerText="Name">
						<h:outputText value="#{localRow.name}" />
					</p:column>

					<p:column sortBy="model" headerText="Model">
						<h:outputText value="#{localRow.model}" />
					</p:column>

					<p:column sortBy="address" headerText="Address">
						<h:outputText value="#{localRow.address}" />
					</p:column>

					<p:column sortBy="image" headerText="Image">
						<h:outputText value="#{localRow.image}" />
					</p:column>
				</p:dataTable>
				<p:spacer height="20" />
				<p:dataTable id="remoteTable" var="remoteRow"
					visible="#{auctionClient.showSearchResults}"
					value="#{auctionClient.remoteBidders}" paginator="true" rows="5"
					paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="5,10,15">
					<f:facet name="header">
         		    Corporate sellers
      	     </f:facet>

					<p:column sortBy="name" headerText="Name">
						<h:outputText value="#{remoteRow.name}" />
					</p:column>

					<p:column sortBy="address" headerText="Address">
						<h:outputText value="#{remoteRow.address}" />
					</p:column>

					<p:column sortBy="image" headerText="Image">
						<h:outputText value="#{remoteRow.image}" />
					</p:column>
				</p:dataTable>

			</p:layoutUnit>
		</p:layout>
	</h:form>
</h:body>

<!--</ui:composition> -->
</html>